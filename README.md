# Caps2Lang

![Language](https://img.shields.io/badge/Language-C-blue.svg)
![Platform](https://img.shields.io/badge/Platform-Windows-0078d7.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)
![Memory](https://img.shields.io/badge/RAM-%3C1MB-green.svg)
![Status](https://img.shields.io/badge/Status-Stable-brightgreen.svg)
ğŸ® ä¸ºæ¸¸æˆç©å®¶è®¾è®¡çš„ CapsLock æç®€ä¸­è‹±åˆ‡æ¢å·¥å…·ï¼Œè§£å†³å…¨å±æ¸¸æˆåˆ‡è¾“å…¥æ³•å¡é¡¿é—®é¢˜ã€‚ 
ğŸš€ A tiny, lag-free CapsLock-to-Language switcher for gamers. Stop stuttering when switching IM in full-screen games.

### ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ

åœ¨ã€ŠCS2ã€‹ã€ã€ŠValorantã€‹ç­‰å…¨å±æ¸¸æˆä¸­ï¼Œç³»ç»Ÿé»˜è®¤çš„è¾“å…¥æ³•åˆ‡æ¢é€»è¾‘ï¼ˆå¦‚ Shift æˆ– Win+Spaceï¼‰ç»å¸¸ä¼šè§¦å‘ç³»ç»Ÿçº§ UIï¼Œå¯¼è‡´æ¸¸æˆç¬æ—¶å¡é¡¿ç”šè‡³åˆ‡å›æ¡Œé¢ã€‚æœ¬å·¥å…·é€šè¿‡åº•å±‚ Hook å°† CapsLock æ¨¡æ‹Ÿä¸ºç¡¬åˆ‡æ¢æŒ‡ä»¤ï¼Œå®ç°æ— æ„ŸçŠ¶æ€è½¬æ¢ã€‚

### åŠŸèƒ½ç‰¹æ€§

* **çŸ­æŒ‰ CapsLock**ï¼šå¼ºåˆ¶åˆ‡æ¢ä¸­/è‹±ï¼ˆæ¨¡æ‹Ÿ Left Shift åˆ‡æ¢ï¼‰ã€‚
* **é•¿æŒ‰ CapsLock ( >500ms )**ï¼šè§¦å‘åŸç”Ÿçš„â€œå¤§å°å†™é”å®šâ€åŠŸèƒ½ï¼Œä¸ç ´ååŸæœ‰ä¹ æƒ¯ã€‚
* **å±è”½ç‰©ç† Shift**ï¼šå¯é€‰ç¦ç”¨ç³»ç»ŸåŸç”Ÿçš„ Shift åˆ‡æ¢é€»è¾‘ï¼Œå½»åº•æœç»æ¸¸æˆå†…è¯¯è§¦å¯¼è‡´çš„è¾“å…¥æ³•å¼¹çª—ã€‚
* **æåº¦è½»é‡**ï¼šçº¯ C è¯­è¨€ç¼–å†™ï¼Œå†…å­˜å ç”¨ <1MBï¼Œæ— å®‰è£…åŒ…ï¼Œå•æ‰§è¡Œæ–‡ä»¶è¿è¡Œã€‚
* **å¼€æœºè‡ªå¯**ï¼šæ”¯æŒå³é”®èœå•ä¸€é”®è®¾ç½®ã€‚

### ä½¿ç”¨æ–¹æ³•

1. ä¸‹è½½ `Caps2Lang.exe`ã€‚
2. ç›´æ¥è¿è¡Œã€‚ç¨‹åºä¼šé™é»˜è¿è¡Œåœ¨ç³»ç»Ÿæ‰˜ç›˜ï¼ˆå³ä¸‹è§’ï¼‰ã€‚
3. **æ³¨æ„**ï¼šå»ºè®®å³é”®ä»¥**ç®¡ç†å‘˜èº«ä»½è¿è¡Œ**ï¼Œå¦åˆ™åœ¨æŸäº›é«˜æƒé™çš„æ¸¸æˆçª—å£ä¸­é”®ç›˜é’©å­å¯èƒ½å¤±æ•ˆã€‚

### æ‰˜ç›˜èœå•

å³é”®ç‚¹å‡»æ‰˜ç›˜å›¾æ ‡ï¼š

* **ç¦ç”¨ç³»ç»Ÿ Shift åˆ‡æ¢**ï¼šå¼€å¯åï¼ŒæŒ‰å·¦/å³ Shift é”®å°†ä¸å†è§¦å‘è¾“å…¥æ³•åˆ‡æ¢ã€‚
* **å¼€æœºè‡ªå¯åŠ¨**ï¼šè‡ªåŠ¨å†™å…¥å½“å‰ç”¨æˆ·çš„æ³¨å†Œè¡¨å¯åŠ¨é¡¹ã€‚
* **é€€å‡º**ï¼šå®Œå…¨å¸è½½é”®ç›˜é’©å­å¹¶å…³é—­ç¨‹åºã€‚

### ç¼–è¯‘ç¯å¢ƒ

* **è¯­è¨€**ï¼šC (Win32 API)
* **ç¼–è¯‘å™¨**ï¼šVisual Studio (æ¨è) æˆ– MinGW
* **é“¾æ¥åº“**ï¼š`user32.lib`, `shell32.lib`, `advapi32.lib`
* **å­—ç¬¦é›†**ï¼šUnicode

### å…è´£å£°æ˜

æœ¬å·¥å…·ä½¿ç”¨å…¨å±€é”®ç›˜é’©å­ï¼ˆWH_KEYBOARD_LLï¼‰æ•è·æŒ‰é”®ï¼Œä¸æ¶‰åŠå†…å­˜æ³¨å…¥ã€‚ä½†åœ¨æå°‘æ•°åä½œå¼Šç³»ç»Ÿä¸¥è‹›çš„æ¸¸æˆä¸­ï¼Œè¯·è‡ªè¡Œè¯„ä¼°ä½¿ç”¨é£é™©ã€‚

### è®¸å¯è¯

MIT

### VirusTotalæ‰«æç»“æœ
[![VirusTotal Scan](https://img.shields.io/badge/VirusTotal-Scan_Result-blue)](https://www.virustotal.com/gui/file/87f3d9115a11121de1748001f5180300a0614fa325ccb960ed3d302c4d588d96?nocache=1)

# Caps2Lang
ğŸ® A tiny, lag-free CapsLock switcher for gamers â€” stop IM stutters in full-screen games.

## Why This?
In full-screen games like *CS2* or *Valorant*, default OS input method (IM) switches (e.g., Shift or Win+Space) often trigger system UI pops â€” causing game lag, frame drops, or even desktop switches. This tool uses a low-level keyboard hook to turn CapsLock into a "hard switch" command, so you can toggle languages without disrupting gameplay.


## Features
- **Short-press CapsLock (<500ms):** Force-switch between Chinese/English (simulates Left Shift, ignores current IM state).
- **Long-press CapsLock (>500ms):** Trigger native Caps Lock (no breaking old habits).
- **Optional Shift Block:** Disable OS-native Shift-based IM switching â€” no more accidental IM pops mid-game.
- **Extremely Lightweight:** Written in pure C (Win32 API), <1MB RAM usage, no installer (single .exe).
- **Auto-Start:** One-click setup via tray menu.


## How to Use
1. Download `Caps2Lang.exe`.
2. Run it (right-click â†’ *Run as administrator* â€” required for hook access in high-privilege game windows).
3. The app runs silently in your system tray (bottom-right corner).


## Tray Menu (Right-Click Icon)
- **Block System Shift Switch:** Enable to stop Left/Right Shift from triggering IM changes.
- **Auto-Start on Boot:** Adds the app to your user-level startup registry.
- **Exit:** Unhooks the keyboard listener and closes the app.


## Build Environment
- **Language:** C (Win32 API)
- **Compiler:** Visual Studio (recommended) or MinGW
- **Libraries Linked:** `user32.lib`, `shell32.lib`, `advapi32.lib`
- **Character Set:** Unicode


## Disclaimer
This tool uses a global keyboard hook (`WH_KEYBOARD_LL`) â€” no memory injection is involved. However, use at your own risk in games with strict anti-cheat systems (some may flag hook-based tools).


## License
MIT License

## VirusTotal scan results
[![VirusTotal Scan](https://img.shields.io/badge/VirusTotal-Scan_Result-blue)](https://www.virustotal.com/gui/file/87f3d9115a11121de1748001f5180300a0614fa325ccb960ed3d302c4d588d96?nocache=1)
